(this["webpackJsonpmqtt-request"]=this["webpackJsonpmqtt-request"]||[]).push([[0],{105:function(e,n){},107:function(e,n){},132:function(e,n){},133:function(e,n){},135:function(e,n){},137:function(e,n){},147:function(e,n,t){},149:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},156:function(e,n,t){},157:function(e,n,t){},158:function(e,n,t){},159:function(e,n,t){},160:function(e,n,t){},161:function(e,n,t){},162:function(e,n,t){},163:function(e,n,t){},164:function(e,n,t){},165:function(e,n,t){},166:function(e,n,t){},167:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),o=t(32),r=t.n(o),i=t(2),s=t(26),u=t(4),d=t(35),l=t.n(d),b=t(5),j=t(3),f=(t(147),t(0)),h=function(e){var n=e.children,t=e.align,c={center:"center",default:"default"};return Object(f.jsx)("div",{className:"header header--".concat(c[t]||c.default),children:n})},O=(t(149),function(e){var n=e.children;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"body",children:n})})}),m=t(25),g=(t(150),function(e){var n=e.className,t=e.variant,c={default:"default",dark:"dark"};return Object(f.jsx)("div",{className:"loader__container  ".concat(n||""),children:Object(f.jsx)("div",{className:"loader loader--".concat(c[c[t]||c.default])})})}),p=(t(151),function(e){var n=e.title,t=e.margin,c=e.variant,a=e.isLink,o=e.href,r=e.onClick,i=e.isDisabled,s=e.isLoading,u=e.className,d={primary:"primary",secondary:"secondary",danger:"danger",warning:"warning",info:"info",success:"success"};return Object(f.jsx)("div",{className:"button__container button--".concat(u||""),children:a?Object(f.jsx)(m.b,{className:"button button__".concat(t||"","Margin button__").concat(d[c]||d.primary),to:i?"":o,children:s?Object(f.jsx)(g,{}):Object(f.jsx)("span",{children:n})}):Object(f.jsx)("button",{className:"button button__".concat(t,"Margin button__").concat(d[c]||d.primary),onClick:r,disabled:i,children:s?Object(f.jsx)(g,{}):Object(f.jsx)("span",{children:n})})})}),v=(t(156),function(e){var n=e.placeholder,t=e.type,c=e.value,a=e.onChange,o=e.margin,r=e.isDisabled;return Object(f.jsx)("input",{className:"input input__".concat(o,"Margin"),placeholder:n,type:t,value:c,disabled:r,onChange:function(e){a&&a(e.target.value)}})}),_=(t(157),function(e){var n="dark"===e.variant?"dark":"default";return Object(f.jsx)("div",{className:"hr hr__".concat(n)})}),w=(t(158),function(e){var n=e.variant,t=e.children,c=e.isShadow,a=e.isMinHeight,o=e.backgroundImage,r=e.className,i={dark:"dark",default:"default"};return Object(f.jsx)("div",{className:"card card__".concat(i[n]||i.default," ").concat(r||""," card__").concat(c?"shadow":""," card__").concat(a?"min_height":""," card__image card__image--").concat(o||""),children:t})}),x=(t(159),function(e){var n=e.children;return Object(f.jsx)("div",{className:"container",children:n})}),k=Object(j.b)({key:"loginState",default:!1}),y=Object(j.b)({key:"loading",default:!1}),N=Object(j.b)({key:"warning",default:""}),C=Object(j.b)({key:"success",default:""}),S=Object(j.b)({key:"info",default:""}),E=Object(j.b)({key:"error",default:""}),D=Object(j.b)({key:"credentialAtom",default:{username:"",password:""}}),T=(t(160),"mqtt.raghavdhingra.com"),M="wss",A="8083",L="up",R="down",W="right",U="left",P="car/remote/",I="button_up",H="button_down",K="button_right",F="button_left",q="mouse_up",B="mouse_down",V=function(){var e=Object(j.c)(D),n=Object(i.a)(e,2),t=n[0],a=n[1],o=Object(j.c)(k),r=Object(i.a)(o,2),d=r[0],m=r[1],g=Object(j.c)(y),S=Object(i.a)(g,2),L=S[0],R=S[1],W=Object(j.c)(E),U=Object(i.a)(W,2),P=(U[0],U[1]),I=Object(j.c)(C),H=Object(i.a)(I,2),K=(H[0],H[1]),F=Object(j.c)(N),q=Object(i.a)(F,2),B=(q[0],q[1]),V=Object(b.f)(),J=function(e,n){a(Object(u.a)(Object(u.a)({},t),{},Object(s.a)({},e,n)))};Object(c.useEffect)((function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_MQTT_USERNAME,n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_MQTT_PASSWORD;e&&n&&a({username:e,password:n})}),[a]),Object(c.useEffect)((function(){d&&V.replace("/dashboard")}),[V,d]);return Object(f.jsx)(x,{children:Object(f.jsx)(w,{children:Object(f.jsxs)(w,{variant:"dark",isShadow:!0,children:[Object(f.jsx)(h,{children:"Login"}),Object(f.jsx)(_,{}),Object(f.jsxs)(O,{children:[Object(f.jsx)(v,{placeholder:"Username",type:"text",isDisabled:L,value:t.username,onChange:function(e){return J("username",e)}}),Object(f.jsx)(v,{placeholder:"Password",isDisabled:L,type:"password",value:t.password,margin:"top",onChange:function(e){return J("password",e)}}),Object(f.jsx)(p,{isDisabled:L,isLoading:L,title:"Check In",margin:"top",onClick:function(){if(R(!0),B("Connection is Progress..."),t.username&&t.password){var e=l.a.connect("".concat(M,"://").concat(T),{username:t.username,password:t.password,protocol:M,port:A});e.on("error",(function(){R(!1),P("Invalid Credentials"),m(!1)})),e.on("connect",(function(){R(!1),K("Connection Established"),m(!0)}))}else R(!1),P("Empty Credential"),m(!1)}})]})]})})})},J=(t(161),function(e){var n=e.className,t=Object(j.c)(D),c=Object(i.a)(t,2),a=c[0],o=c[1],r=Object(j.c)(y),s=Object(i.a)(r,2),u=s[0],d=s[1],l=Object(j.c)(k),h=Object(i.a)(l,2),O=h[0],m=h[1],g=Object(j.c)(C),v=Object(i.a)(g,2),_=v[0],w=v[1],x=Object(b.f)();return Object(f.jsxs)("div",{className:"navbar ".concat(n||""),children:[Object(f.jsx)(p,{title:"Home",className:"not-center",onClick:function(){return x.push("/dashboard")},variant:"warning"}),Object(f.jsxs)("div",{className:"navbar__leftFlex",children:[Object(f.jsxs)("span",{className:"navbar__username",children:["\ud83c\udfe0 ",a.username]}),Object(f.jsx)(p,{title:"Logout",onClick:function(){O&&(o({username:"",password:""}),d(!1),m(!1),"Successfully Logged out"===_&&w("Successfully Logged out"))},isDisabled:u,isLoading:u,variant:"danger"})]})]})}),Q=(t(162),function(e){var n=e.children;return Object(f.jsxs)(x,{children:[Object(f.jsx)(J,{}),n]})}),G=(t(163),function(e){var n=e.title,t=e.type,a=e.handleDismiss,o={info:"info",error:"error",warning:"warning",success:"success"};return Object(c.useEffect)((function(){a&&setTimeout((function(){a()}),2e3)}),[]),n?Object(f.jsx)("div",{className:"alert alert__".concat(o[t]||o.info),children:n}):null}),Y=[{name:"Internet Car Remote",image:"car",key:"INTERNET_CAR_REMOTE",href:"/internet-car-remote"},{name:"Workspace Light Switch",image:"bulb",key:"WORKSPACE_LIGHT_SWITCH",href:"/workspace-light-switch"}],$=(t(164),function(e){var n=e.className;return Object(f.jsx)("div",{className:"app_list ".concat(n||""),children:Y.map((function(e,n){return Object(f.jsxs)(w,{isShadow:!0,variant:n%3===0?"dark":"",isMinHeight:!0,backgroundImage:e.image,children:[Object(f.jsx)(h,{align:"center",children:e.name}),Object(f.jsx)(p,{title:"Connect",variant:n%3===0?"info":"secondary",href:"/dashboard".concat(e.href),isLink:!0})]},e.key)}))})}),z=(t(165),function(e){var n=e.className,t=e.isConnected;return Object(f.jsx)("div",{className:"point_status point_status--".concat(t?"connected":"not-connected"," ").concat(n||"")})}),X=function(e){var n=e.className,t=e.onClick,c=e.title,a=e.variant,o=e.margin,r=e.children,i=e.onMouseDown,s=e.onMouseUp,u={primary:"primary",secondary:"secondary",danger:"danger",warning:"warning",info:"info",success:"success"};function d(e){var n=e||window.event;return n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0,n.returnValue=!1,!1}return Object(f.jsxs)("button",{onMouseDown:i,onMouseUp:s,onTouchStart:function(e){i(),d(e)},onTouchMove:d,onTouchCancel:d,onTouchEnd:function(e){s(),d(e)},onClick:t,className:"button button--round button__".concat(o,"Margin button__").concat(a?u[a]:u.primary," ").concat(n||""),children:[c,r]})},Z=null,ee=!1,ne=!1,te=!1,ce=!1,ae=function(){var e=Object(c.useState)(!1),n=Object(i.a)(e,2),t=n[0],a=n[1],o=Object(c.useState)(!1),r=Object(i.a)(o,2),s=r[0],u=r[1],d=Object(j.c)(D),b=Object(i.a)(d,1)[0],O=Object(j.c)(y),m=Object(i.a)(O,2),g=m[0],v=m[1],_=Object(j.c)(E),k=Object(i.a)(_,2),V=(k[0],k[1]),J=Object(j.c)(C),Q=Object(i.a)(J,2),G=(Q[0],Q[1]),Y=Object(j.c)(N),$=Object(i.a)(Y,2),ae=($[0],$[1]),oe=Object(j.c)(S),re=Object(i.a)(oe,2),ie=(re[0],re[1]),se=function(e,n){t&&(e===I?n===q?Z.publish("".concat(P).concat(L),"0"):n===B&&Z.publish("".concat(P).concat(L),"1"):e===F?n===q?Z.publish("".concat(P).concat(U),"0"):n===B&&Z.publish("".concat(P).concat(U),"1"):e===K?n===q?Z.publish("".concat(P).concat(W),"0"):n===B&&Z.publish("".concat(P).concat(W),"1"):e===H&&(n===q?Z.publish("".concat(P).concat(R),"0"):n===B&&Z.publish("".concat(P).concat(R),"1")))},ue=function(){ae("Connecting to Car..."),b.username&&b.password?(v(!0),(Z=l.a.connect("".concat(M,"://").concat(T),{username:b.username,password:b.password,protocol:M,port:A})).on("connect",(function(){a(!0),v(!1),G("Connected to the Car")})),Z.on("error",(function(){a(!1),v(!1),V("Disconnected from the Car")}))):(a(!1),v(!1),G("Error while connection"))},de=function(e){"ArrowUp"===e.key?ee||(ee=!0,se(I,B)):"ArrowLeft"===e.key?te||(te=!0,se(F,B)):"ArrowRight"===e.key?ce||(ce=!0,se(K,B)):"ArrowDown"===e.key&&(ne||(ne=!0,se(H,B)))},le=function(e){"ArrowUp"===e.key?(ee=!1,se(I,q)):"ArrowLeft"===e.key?(te=!1,se(F,q)):"ArrowRight"===e.key?(ce=!1,se(K,q)):"ArrowDown"===e.key&&(ne=!1,se(H,q))};return Object(c.useEffect)((function(){s?(ie("Keyboard is engaged. Now, you can control the car with the arrow keys."),document.onkeydown=de,document.onkeyup=le):(ae("Keyboard is disengaged. You can not use the keyboard as a controller."),document.onkeydown=null,document.onkeyup=null)}),[s]),Object(c.useEffect)((function(){ue()}),[]),Object(f.jsxs)(x,{children:[Object(f.jsx)(w,{isShadow:!0,variant:"default",children:Object(f.jsxs)(h,{children:[Object(f.jsx)(z,{isConnected:t})," ",t?"Active":"Inactive"]})}),Object(f.jsx)(w,{isShadow:!0,variant:"default",children:Object(f.jsxs)(w,{variant:"dark",children:[Object(f.jsx)("div",{className:"dashboard__center-align",children:Object(f.jsx)(X,{variant:"danger",margin:"auto",className:"dashboard__btn-up",onMouseDown:function(){return se(I,B)},onMouseUp:function(){return se(I,q)}})}),Object(f.jsxs)("div",{className:"dashboard__card-grid-2 dashboard__center-align",children:[Object(f.jsx)(X,{variant:"danger",className:"dashboard__btn-left",onMouseDown:function(){return se(F,B)},onMouseUp:function(){return se(F,q)}}),Object(f.jsx)(X,{variant:"danger",className:"dashboard__btn-right",onMouseDown:function(){return se(K,B)},onMouseUp:function(){return se(K,q)}})]}),Object(f.jsx)("div",{className:"dashboard__center-align",children:Object(f.jsx)(X,{variant:"danger",margin:"auto",className:"dashboard__btn-down",onMouseDown:function(){return se(H,B)},onMouseUp:function(){return se(H,q)}})})]})}),Object(f.jsxs)(w,{isShadow:!0,className:"dashboard__flex",children:[Object(f.jsx)(p,{variant:"success",className:"dashboard__mobile_disable",title:s?"Disengage Keyboard":"Engage Keyboard",onClick:function(){return u(!s)}}),Object(f.jsx)(p,{variant:"info",isDisabled:g,isLoading:g,title:t?"Disconnect":"Connect",onClick:t?function(){a(!1),Z=null,ie("Disconnected from the car")}:ue})]})]})},oe=function(){var e=Object(b.f)(),n=Object(b.g)(),t=Object(j.c)(k),a=Object(i.a)(t,1)[0],o=Object(j.c)(E),r=Object(i.a)(o,2),s=r[0],u=r[1],d=Object(j.c)(C),l=Object(i.a)(d,2),h=l[0],O=l[1],m=Object(j.c)(S),g=Object(i.a)(m,2),p=g[0],v=g[1],_=Object(j.c)(N),w=Object(i.a)(_,2),x=w[0],y=w[1];return Object(c.useEffect)((function(){a||"login"===n.pathname||e.push("/login")}),[a,e,n.pathname]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"alert__container",children:[s&&Object(f.jsx)(G,{type:"error",title:s,handleDismiss:function(){return u("")}}),p&&Object(f.jsx)(G,{type:"info",title:p,handleDismiss:function(){return v("")}}),x&&Object(f.jsx)(G,{type:"warning",title:x,handleDismiss:function(){return y("")}}),h&&Object(f.jsx)(G,{type:"success",title:h,handleDismiss:function(){return O("")}})]}),Object(f.jsxs)(b.c,{children:[Object(f.jsx)(b.a,{path:"/login",exact:!0,children:Object(f.jsx)(V,{})}),Object(f.jsxs)(b.a,{path:"/dashboard",children:[Object(f.jsx)(b.a,{path:"/dashboard",exact:!0,children:Object(f.jsx)(Q,{children:Object(f.jsx)($,{className:"app_list__container"})})}),Object(f.jsx)(b.a,{path:"/dashboard/internet-car-remote",exact:!0,children:Object(f.jsx)(Q,{children:Object(f.jsx)(ae,{})})})]})]})]})},re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(166);r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(j.a,{children:Object(f.jsx)(m.a,{children:Object(f.jsx)(oe,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");console.log(n),re?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var c=t.headers.get("content-type");404===t.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ie(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ie(n,e)}))}}()},87:function(e,n){},89:function(e,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.45819e72.chunk.js.map