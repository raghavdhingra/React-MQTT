(this["webpackJsonpmqtt-request"]=this["webpackJsonpmqtt-request"]||[]).push([[0],{105:function(e,n){},107:function(e,n){},132:function(e,n){},133:function(e,n){},135:function(e,n){},137:function(e,n){},147:function(e,n,t){},149:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},152:function(e,n,t){},153:function(e,n,t){},154:function(e,n,t){},155:function(e,n,t){},156:function(e,n,t){},157:function(e,n,t){},162:function(e,n,t){},163:function(e,n,t){},164:function(e,n,t){},165:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),i=t(32),r=t.n(i),s=t(16),o=t(2),d=t(3),u=t(78),l=t.n(u),j=t(10),b=(t(147),t(1)),h=function(e){var n=e.children,t=e.align,a={center:"center",default:"default"};return Object(b.jsx)("div",{className:"header header--".concat(a[t]||a.default),children:n})},f=(t(149),function(e){var n=e.children;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"body",children:n})})}),O=(t(150),function(e){var n=e.className,t=e.variant,a={default:"default",dark:"dark"};return Object(b.jsx)("div",{className:"loader__container  ".concat(n||""),children:Object(b.jsx)("div",{className:"loader loader--".concat(a[a[t]||a.default])})})}),g=(t(151),function(e){var n=e.title,t=e.margin,a=e.variant,c=e.onClick,i=e.isDisabled,r=e.isLoading,s=e.className,o={primary:"primary",secondary:"secondary",danger:"danger",warning:"warning"};return Object(b.jsx)("div",{className:"button__container button--".concat(s||""),children:Object(b.jsx)("button",{className:"button button__".concat(t,"Margin button__").concat(o[a]||o.primary),onClick:c,disabled:i,children:r?Object(b.jsx)(O,{}):Object(b.jsx)("span",{children:n})})})}),m=(t(152),function(e){var n=e.placeholder,t=e.type,a=e.value,c=e.onChange,i=e.margin,r=e.isDisabled;return Object(b.jsx)("input",{className:"input input__".concat(i,"Margin"),placeholder:n,type:t,value:a,disabled:r,onChange:function(e){c&&c(e.target.value)}})}),p=(t(153),function(e){var n="dark"===e.variant?"dark":"default";return Object(b.jsx)("div",{className:"hr hr__".concat(n)})}),x=(t(154),function(e){var n=e.variant,t=e.children,a=e.isShadow,c=e.isMinHeight,i=e.backgroundImage,r={dark:"dark",default:"default"};return Object(b.jsx)("div",{className:"card card__".concat(r[n]||r.default," card__").concat(a?"shadow":""," card__").concat(c?"min_height":""," card__image card__image--").concat(i||""),children:t})}),v=(t(155),function(e){var n=e.children;return Object(b.jsx)("div",{className:"container",children:n})}),_=Object(j.b)({key:"baseStateAtom",default:{isLoggedIn:!1,isLoading:!1,error:"",info:"",success:"",warning:""}}),w=Object(j.b)({key:"credentialAtom",default:{username:"raghavdhingra",password:"qwerty1234"}}),L=(t(156),function(){var e=Object(j.c)(w),n=Object(d.a)(e,2),t=n[0],a=n[1],c=Object(j.c)(_),i=Object(d.a)(c,2),r=i[0],u=i[1],O=function(e,n){a(Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},e,n)))};return Object(b.jsx)(v,{children:Object(b.jsx)(x,{children:Object(b.jsxs)(x,{variant:"dark",isShadow:!0,children:[Object(b.jsx)(h,{children:"Login"}),Object(b.jsx)(p,{}),Object(b.jsxs)(f,{children:[Object(b.jsx)(m,{placeholder:"Username",type:"text",isDisabled:r.isLoading,value:t.username,onChange:function(e){return O("username",e)}}),Object(b.jsx)(m,{placeholder:"Password",isDisabled:r.isLoading,type:"password",value:t.password,margin:"top",onChange:function(e){return O("password",e)}}),Object(b.jsx)(g,{isDisabled:r.isLoading,isLoading:r.isLoading,title:"Check In",margin:"top",onClick:function(){if(u(Object(o.a)(Object(o.a)({},r),{},{isLoading:!0})),t.username&&t.password){var e=l.a.connect("ws://mqtt.raghavdhingra.com",{username:t.username,password:t.password,protocol:"ws",port:"3033"});e.on("error",(function(){u(Object(o.a)(Object(o.a)({},r),{},{isLoggedIn:!1,error:"Invalid Credentials",isLoading:!1}))})),e.on("connect",(function(){u(Object(o.a)(Object(o.a)({},r),{},{isLoggedIn:!0,success:"Connection Established",isLoading:!1}))}))}else u(Object(o.a)(Object(o.a)({},r),{},{isLoggedIn:!1,error:"Empty Credential found",isLoading:!1}))}})]})]})})})}),k=t(4),y=(t(157),function(e){var n=e.className,t=Object(j.c)(w),a=Object(d.a)(t,2),c=a[0],i=a[1],r=Object(j.c)(_),s=Object(d.a)(r,2),u=s[0],l=s[1],h=Object(k.f)();return Object(b.jsxs)("div",{className:"navbar ".concat(n||""),children:[Object(b.jsx)(g,{title:"Home",className:"not-center",onClick:function(){return h.push("/dashboard")},variant:"warning"}),Object(b.jsxs)("div",{className:"navbar__leftFlex",children:[Object(b.jsxs)("span",{className:"navbar__username",children:["\ud83c\udfe0 ",c.username]}),Object(b.jsx)(g,{title:"Logout",onClick:function(){i({username:"",password:""}),l(Object(o.a)(Object(o.a)({},u),{},{isLoading:!1,success:"Successfully Logged out",isLoggedIn:!1}))},isDisabled:u.isLoading,isLoading:u.isLoading,variant:"danger"})]})]})}),N=function(e){var n=e.children;return Object(b.jsxs)(v,{children:[Object(b.jsx)(y,{}),n]})},C=(t(162),function(e){var n=e.title,t=e.type,c=e.handleDismiss,i=t||"info";return Object(a.useEffect)((function(){c&&setTimeout((function(){c()}),4e3)}),[c]),Object(b.jsx)("div",{className:"alert alert__".concat(i),children:n})}),I=[{name:"Internet Car Remote",image:"car",key:"INTERNET_CAR_REMOTE",href:"/internet-car-remote"},{name:"Workspace Light Switch",image:"bulb",key:"WORKSPACE_LIGHT_SWITCH",href:"/workspace-light-switch"}],D=(t(163),function(e){var n=e.className,t=Object(k.f)();return Object(b.jsx)("div",{className:"app_list ".concat(n||""),children:I.map((function(e,n){return Object(b.jsxs)(x,{isShadow:!0,variant:n%3===0?"dark":"",isMinHeight:!0,backgroundImage:e.image,children:[Object(b.jsx)(h,{align:"center",children:e.name}),Object(b.jsx)(g,{title:"Connect",onClick:function(){return t.push(e.href)}})]},e.key)}))})}),E=function(){var e=Object(k.f)(),n=Object(k.g)(),t=Object(j.c)(_),c=Object(d.a)(t,2),i=c[0],r=c[1];Object(a.useEffect)((function(){i.isLoggedIn&&"dashboard"!==n.pathname?e.push("/dashboard"):e.push("/login")}),[i.isLoggedIn,e,n.pathname]);var u=function(e){r(Object(o.a)(Object(o.a)({},i),{},Object(s.a)({},e,"")))};return Object(b.jsxs)(b.Fragment,{children:[i.error&&Object(b.jsx)(C,{type:"error",title:i.error,handleDismiss:function(){return u("error")}}),i.info&&Object(b.jsx)(C,{type:"info",title:i.info,handleDismiss:function(){return u("info")}}),i.warning&&Object(b.jsx)(C,{type:"warning",title:i.warning,handleDismiss:function(){return u("warning")}}),i.success&&Object(b.jsx)(C,{type:"success",title:i.success,handleDismiss:function(){return u("success")}}),Object(b.jsxs)(k.c,{children:[Object(b.jsx)(k.a,{path:"/login",exact:!0,children:Object(b.jsx)(L,{})}),Object(b.jsx)(k.a,{path:"/dashboard",exact:!0,children:Object(b.jsx)(N,{children:Object(b.jsx)(D,{className:"app_list__container"})})})]})]})},S=t(31);t(164);r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(j.a,{children:Object(b.jsx)(S.a,{children:Object(b.jsx)(E,{})})})}),document.getElementById("root"))},87:function(e,n){},89:function(e,n){}},[[165,1,2]]]);
//# sourceMappingURL=main.1a46c23d.chunk.js.map