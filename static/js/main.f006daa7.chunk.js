(this["webpackJsonpmqtt-request"]=this["webpackJsonpmqtt-request"]||[]).push([[0],{105:function(e,n){},107:function(e,n){},132:function(e,n){},133:function(e,n){},135:function(e,n){},137:function(e,n){},147:function(e,n,t){},149:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},156:function(e,n,t){},157:function(e,n,t){},158:function(e,n,t){},159:function(e,n,t){},160:function(e,n,t){},161:function(e,n,t){},162:function(e,n,t){},163:function(e,n,t){},164:function(e,n,t){},165:function(e,n,t){},166:function(e,n,t){},167:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),o=t(32),r=t.n(o),s=t(2),i=t(26),u=t(4),d=t(35),b=t.n(d),l=t(5),j=t(3),O=(t(147),t(0)),h=function(e){var n=e.children,t=e.align,c={center:"center",default:"default"};return Object(O.jsx)("div",{className:"header header--".concat(c[t]||c.default),children:n})},f=(t(149),function(e){var n=e.children;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"body",children:n})})}),m=t(25),_=(t(150),function(e){var n=e.className,t=e.variant,c={default:"default",dark:"dark"};return Object(O.jsx)("div",{className:"loader__container  ".concat(n||""),children:Object(O.jsx)("div",{className:"loader loader--".concat(c[c[t]||c.default])})})}),p=(t(151),function(e){var n=e.title,t=e.margin,c=e.variant,a=e.isLink,o=e.href,r=e.onClick,s=e.isDisabled,i=e.isLoading,u=e.className,d={primary:"primary",secondary:"secondary",danger:"danger",warning:"warning",info:"info",success:"success"};return Object(O.jsx)("div",{className:"button__container button--".concat(u||""),children:a?Object(O.jsx)(m.b,{className:"button button__".concat(t||"","Margin button__").concat(d[c]||d.primary),to:s?"":o,children:i?Object(O.jsx)(_,{}):Object(O.jsx)("span",{children:n})}):Object(O.jsx)("button",{className:"button button__".concat(t,"Margin button__").concat(d[c]||d.primary),onClick:r,disabled:s,children:i?Object(O.jsx)(_,{}):Object(O.jsx)("span",{children:n})})})}),g=(t(156),function(e){var n=e.placeholder,t=e.type,c=e.value,a=e.onChange,o=e.margin,r=e.isDisabled;return Object(O.jsx)("input",{className:"input input__".concat(o,"Margin"),placeholder:n,type:t,value:c,disabled:r,onChange:function(e){a&&a(e.target.value)}})}),x=(t(157),function(e){var n="dark"===e.variant?"dark":"default";return Object(O.jsx)("div",{className:"hr hr__".concat(n)})}),v=(t(158),function(e){var n=e.variant,t=e.children,c=e.isShadow,a=e.isMinHeight,o=e.backgroundImage,r=e.className,s={dark:"dark",default:"default"};return Object(O.jsx)("div",{className:"card card__".concat(s[n]||s.default," ").concat(r||""," card__").concat(c?"shadow":""," card__").concat(a?"min_height":""," card__image card__image--").concat(o||""),children:t})}),w=(t(159),function(e){var n=e.children;return Object(O.jsx)("div",{className:"container",children:n})}),y=Object(j.b)({key:"loginState",default:!1}),k=Object(j.b)({key:"loading",default:!1}),N=Object(j.b)({key:"warning",default:""}),C=Object(j.b)({key:"success",default:""}),S=Object(j.b)({key:"info",default:""}),E=Object(j.b)({key:"error",default:""}),D=Object(j.b)({key:"credentialAtom",default:{username:"",password:""}}),T=(t(160),"mqtt.raghavdhingra.com"),M="wss",A="8083",R="up",L="down",U="right",I="left",P="car/remote/",H="button_up",K="button_down",W="button_right",F="button_left",q="mouse_up",B="mouse_down",V=function(){var e=Object(j.c)(D),n=Object(s.a)(e,2),t=n[0],a=n[1],o=Object(j.c)(y),r=Object(s.a)(o,2),d=r[0],m=r[1],_=Object(j.c)(k),S=Object(s.a)(_,2),R=S[0],L=S[1],U=Object(j.c)(E),I=Object(s.a)(U,2),P=(I[0],I[1]),H=Object(j.c)(C),K=Object(s.a)(H,2),W=(K[0],K[1]),F=Object(j.c)(N),q=Object(s.a)(F,2),B=(q[0],q[1]),V=Object(l.f)(),J=function(e,n){a(Object(u.a)(Object(u.a)({},t),{},Object(i.a)({},e,n)))};Object(c.useEffect)((function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_MQTT_USERNAME,n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_MQTT_PASSWORD;e&&n&&a({username:e,password:n})}),[a]),Object(c.useEffect)((function(){d&&V.replace("/dashboard")}),[V,d]);return Object(O.jsx)(w,{children:Object(O.jsx)(v,{children:Object(O.jsxs)(v,{variant:"dark",isShadow:!0,children:[Object(O.jsx)(h,{children:"Login"}),Object(O.jsx)(x,{}),Object(O.jsxs)(f,{children:[Object(O.jsx)(g,{placeholder:"Username",type:"text",isDisabled:R,value:t.username,onChange:function(e){return J("username",e)}}),Object(O.jsx)(g,{placeholder:"Password",isDisabled:R,type:"password",value:t.password,margin:"top",onChange:function(e){return J("password",e)}}),Object(O.jsx)(p,{isDisabled:R,isLoading:R,title:"Check In",margin:"top",onClick:function(){if(L(!0),B("Connection is Progress..."),t.username&&t.password){var e=b.a.connect("".concat(M,"://").concat(T),{username:t.username,password:t.password,protocol:M,port:A});e.on("error",(function(){L(!1),P("Invalid Credentials"),m(!1)})),e.on("connect",(function(){L(!1),W("Connection Established"),m(!0)}))}else L(!1),P("Empty Credential"),m(!1)}})]})]})})})},J=(t(161),function(e){var n=e.className,t=Object(j.c)(D),c=Object(s.a)(t,2),a=c[0],o=c[1],r=Object(j.c)(k),i=Object(s.a)(r,2),u=i[0],d=i[1],b=Object(j.c)(y),h=Object(s.a)(b,2),f=h[0],m=h[1],_=Object(j.c)(C),g=Object(s.a)(_,2),x=g[0],v=g[1],w=Object(l.f)();return Object(O.jsxs)("div",{className:"navbar ".concat(n||""),children:[Object(O.jsx)(p,{title:"Home",className:"not-center",onClick:function(){return w.push("/dashboard")},variant:"warning"}),Object(O.jsxs)("div",{className:"navbar__leftFlex",children:[Object(O.jsxs)("span",{className:"navbar__username",children:["\ud83c\udfe0 ",a.username]}),Object(O.jsx)(p,{title:"Logout",onClick:function(){f&&(o({username:"",password:""}),d(!1),m(!1),"Successfully Logged out"===x&&v("Successfully Logged out"))},isDisabled:u,isLoading:u,variant:"danger"})]})]})}),Q=(t(162),function(e){var n=e.children;return Object(O.jsxs)(w,{children:[Object(O.jsx)(J,{}),n]})}),G=(t(163),function(e){var n=e.title,t=e.type,a=e.handleDismiss,o={info:"info",error:"error",warning:"warning",success:"success"};return Object(c.useEffect)((function(){a&&setTimeout((function(){a()}),2e3)}),[]),n?Object(O.jsx)("div",{className:"alert alert__".concat(o[t]||o.info),children:n}):null}),Y=[{name:"Internet Car Remote",image:"car",key:"INTERNET_CAR_REMOTE",href:"/internet-car-remote"},{name:"Workspace Light Switch",image:"bulb",key:"WORKSPACE_LIGHT_SWITCH",href:"/workspace-light-switch"}],z=(t(164),function(e){var n=e.className;return Object(O.jsx)("div",{className:"app_list ".concat(n||""),children:Y.map((function(e,n){return Object(O.jsxs)(v,{isShadow:!0,variant:n%3===0?"dark":"",isMinHeight:!0,backgroundImage:e.image,children:[Object(O.jsx)(h,{align:"center",children:e.name}),Object(O.jsx)(p,{title:"Connect",variant:n%3===0?"info":"secondary",href:"/dashboard".concat(e.href),isLink:!0})]},e.key)}))})}),X=(t(165),function(e){var n=e.className,t=e.isConnected;return Object(O.jsx)("div",{className:"point_status point_status--".concat(t?"connected":"not-connected"," ").concat(n||"")})}),Z=function(e){var n=e.className,t=e.onClick,c=e.title,a=e.variant,o=e.margin,r=e.children,s=e.onMouseDown,i=e.onMouseUp,u={primary:"primary",secondary:"secondary",danger:"danger",warning:"warning",info:"info",success:"success"};function d(e){var n=e||window.event;return n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0,n.returnValue=!1,!1}return Object(O.jsxs)("button",{onMouseDown:s,onMouseUp:i,onTouchStart:function(e){s(),d(e)},onTouchMove:d,onTouchCancel:d,onTouchEnd:function(e){i(),d(e)},onClick:t,className:"button button--round button__".concat(o,"Margin button__").concat(a?u[a]:u.primary," ").concat(n||""),children:[c,r]})},$=null,ee=!1,ne=!1,te=!1,ce=!1,ae=function(){var e=Object(c.useState)(!1),n=Object(s.a)(e,2),t=n[0],a=n[1],o=Object(c.useState)(!1),r=Object(s.a)(o,2),i=r[0],u=r[1],d=Object(j.c)(D),l=Object(s.a)(d,1)[0],f=Object(j.c)(k),m=Object(s.a)(f,2),_=m[0],g=m[1],x=Object(j.c)(E),y=Object(s.a)(x,2),V=(y[0],y[1]),J=Object(j.c)(C),Q=Object(s.a)(J,2),G=(Q[0],Q[1]),Y=Object(j.c)(N),z=Object(s.a)(Y,2),ae=(z[0],z[1]),oe=Object(j.c)(S),re=Object(s.a)(oe,2),se=(re[0],re[1]),ie=function(e,n){t&&(e===H?n===q?$.publish("".concat(P).concat(R),"0"):n===B&&$.publish("".concat(P).concat(R),"1"):e===F?n===q?$.publish("".concat(P).concat(I),"0"):n===B&&$.publish("".concat(P).concat(I),"1"):e===W?n===q?$.publish("".concat(P).concat(U),"0"):n===B&&$.publish("".concat(P).concat(U),"1"):e===K&&(n===q?$.publish("".concat(P).concat(L),"0"):n===B&&$.publish("".concat(P).concat(L),"1")))},ue=function(){ae("Connecting to Car..."),l.username&&l.password?(g(!0),($=b.a.connect("".concat(M,"://").concat(T),{username:l.username,password:l.password,protocol:M,port:A})).on("connect",(function(){a(!0),g(!1),G("Connected to the Car")})),$.on("error",(function(){a(!1),g(!1),V("Disconnected from the Car")}))):(a(!1),g(!1),G("Error while connection"))},de=function(e){"ArrowUp"===e.key?ee||(ee=!0,ie(H,B)):"ArrowLeft"===e.key?te||(te=!0,ie(F,B)):"ArrowRight"===e.key?ce||(ce=!0,ie(W,B)):"ArrowDown"===e.key&&(ne||(ne=!0,ie(K,B)))},be=function(e){"ArrowUp"===e.key?(ee=!1,ie(H,q)):"ArrowLeft"===e.key?(te=!1,ie(F,q)):"ArrowRight"===e.key?(ce=!1,ie(W,q)):"ArrowDown"===e.key&&(ne=!1,ie(K,q))};return Object(c.useEffect)((function(){i?(se("Keyboard is engaged. Now, you can control the car with the arrow keys."),document.onkeydown=de,document.onkeyup=be):(ae("Keyboard is disengaged. You can not use the keyboard as a controller."),document.onkeydown=null,document.onkeyup=null)}),[i]),Object(c.useEffect)((function(){ue()}),[]),Object(O.jsxs)(w,{children:[Object(O.jsx)(v,{isShadow:!0,variant:"default",children:Object(O.jsxs)(h,{children:[Object(O.jsx)(X,{isConnected:t})," ",t?"Active":"Inactive"]})}),Object(O.jsx)(v,{isShadow:!0,variant:"default",children:Object(O.jsxs)(v,{variant:"dark",children:[Object(O.jsx)("div",{className:"dashboard__center-align",children:Object(O.jsx)(Z,{variant:"danger",margin:"auto",className:"dashboard__btn-up",onMouseDown:function(){return ie(H,B)},onMouseUp:function(){return ie(H,q)}})}),Object(O.jsxs)("div",{className:"dashboard__card-grid-2 dashboard__center-align",children:[Object(O.jsx)(Z,{variant:"danger",className:"dashboard__btn-left",onMouseDown:function(){return ie(F,B)},onMouseUp:function(){return ie(F,q)}}),Object(O.jsx)(Z,{variant:"danger",className:"dashboard__btn-right",onMouseDown:function(){return ie(W,B)},onMouseUp:function(){return ie(W,q)}})]}),Object(O.jsx)("div",{className:"dashboard__center-align",children:Object(O.jsx)(Z,{variant:"danger",margin:"auto",className:"dashboard__btn-down",onMouseDown:function(){return ie(K,B)},onMouseUp:function(){return ie(K,q)}})})]})}),Object(O.jsxs)(v,{isShadow:!0,className:"dashboard__flex",children:[Object(O.jsx)(p,{variant:"success",className:"dashboard__mobile_disable",title:i?"Disengage Keyboard":"Engage Keyboard",onClick:function(){return u(!i)}}),Object(O.jsx)(p,{variant:"info",isDisabled:_,isLoading:_,title:t?"Disconnect":"Connect",onClick:t?function(){a(!1),$=null,se("Disconnected from the car")}:ue})]})]})},oe=function(){var e=Object(l.f)(),n=Object(l.g)(),t=Object(j.c)(y),a=Object(s.a)(t,1)[0],o=Object(j.c)(E),r=Object(s.a)(o,2),i=r[0],u=r[1],d=Object(j.c)(C),b=Object(s.a)(d,2),h=b[0],f=b[1],m=Object(j.c)(S),_=Object(s.a)(m,2),p=_[0],g=_[1],x=Object(j.c)(N),v=Object(s.a)(x,2),w=v[0],k=v[1];return Object(c.useEffect)((function(){a||"login"===n.pathname||e.push("/login")}),[a,e,n.pathname]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"alert__container",children:[i&&Object(O.jsx)(G,{type:"error",title:i,handleDismiss:function(){return u("")}}),p&&Object(O.jsx)(G,{type:"info",title:p,handleDismiss:function(){return g("")}}),w&&Object(O.jsx)(G,{type:"warning",title:w,handleDismiss:function(){return k("")}}),h&&Object(O.jsx)(G,{type:"success",title:h,handleDismiss:function(){return f("")}})]}),Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/login",exact:!0,children:Object(O.jsx)(V,{})}),Object(O.jsxs)(l.a,{path:"/dashboard",children:[Object(O.jsx)(l.a,{path:"/dashboard",exact:!0,children:Object(O.jsx)(Q,{children:Object(O.jsx)(z,{className:"app_list__container"})})}),Object(O.jsx)(l.a,{path:"/dashboard/internet-car-remote",exact:!0,children:Object(O.jsx)(Q,{children:Object(O.jsx)(ae,{})})})]})]})]})};t(166);r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(j.a,{children:Object(O.jsx)(m.a,{children:Object(O.jsx)(oe,{})})})}),document.getElementById("root"))},87:function(e,n){},89:function(e,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.f006daa7.chunk.js.map