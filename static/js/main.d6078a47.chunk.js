(this["webpackJsonpmqtt-request"]=this["webpackJsonpmqtt-request"]||[]).push([[0],{105:function(e,n){},107:function(e,n){},132:function(e,n){},133:function(e,n){},135:function(e,n){},137:function(e,n){},147:function(e,n,t){},149:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},156:function(e,n,t){},157:function(e,n,t){},158:function(e,n,t){},159:function(e,n,t){},160:function(e,n,t){},161:function(e,n,t){},162:function(e,n,t){},163:function(e,n,t){},164:function(e,n,t){},165:function(e,n,t){},166:function(e,n,t){},167:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),r=t(32),o=t.n(r),s=t(2),i=t(26),d=t(4),u=t(35),l=t.n(u),b=t(5),j=t(3),O=(t(147),t(0)),h=function(e){var n=e.children,t=e.align,c={center:"center",default:"default"};return Object(O.jsx)("div",{className:"header header--".concat(c[t]||c.default),children:n})},f=(t(149),function(e){var n=e.children;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"body",children:n})})}),m=t(25),_=(t(150),function(e){var n=e.className,t=e.variant,c={default:"default",dark:"dark"};return Object(O.jsx)("div",{className:"loader__container  ".concat(n||""),children:Object(O.jsx)("div",{className:"loader loader--".concat(c[c[t]||c.default])})})}),g=(t(151),function(e){var n=e.title,t=e.margin,c=e.variant,a=e.isLink,r=e.href,o=e.onClick,s=e.isDisabled,i=e.isLoading,d=e.className,u={primary:"primary",secondary:"secondary",danger:"danger",warning:"warning",info:"info",success:"success"};return Object(O.jsx)("div",{className:"button__container button--".concat(d||""),children:a?Object(O.jsx)(m.b,{className:"button button__".concat(t||"","Margin button__").concat(u[c]||u.primary),to:s?"":r,children:i?Object(O.jsx)(_,{}):Object(O.jsx)("span",{children:n})}):Object(O.jsx)("button",{className:"button button__".concat(t,"Margin button__").concat(u[c]||u.primary),onClick:o,disabled:s,children:i?Object(O.jsx)(_,{}):Object(O.jsx)("span",{children:n})})})}),p=(t(156),function(e){var n=e.placeholder,t=e.type,c=e.value,a=e.onChange,r=e.margin,o=e.isDisabled;return Object(O.jsx)("input",{className:"input input__".concat(r,"Margin"),placeholder:n,type:t,value:c,disabled:o,onChange:function(e){a&&a(e.target.value)}})}),x=(t(157),function(e){var n="dark"===e.variant?"dark":"default";return Object(O.jsx)("div",{className:"hr hr__".concat(n)})}),v=(t(158),function(e){var n=e.variant,t=e.children,c=e.isShadow,a=e.isMinHeight,r=e.backgroundImage,o=e.className,s={dark:"dark",default:"default"};return Object(O.jsx)("div",{className:"card card__".concat(s[n]||s.default," ").concat(o||""," card__").concat(c?"shadow":""," card__").concat(a?"min_height":""," card__image card__image--").concat(r||""),children:t})}),w=(t(159),function(e){var n=e.children;return Object(O.jsx)("div",{className:"container",children:n})}),y=Object(j.b)({key:"loginState",default:!1}),k=Object(j.b)({key:"loading",default:!1}),N=Object(j.b)({key:"warning",default:""}),C=Object(j.b)({key:"success",default:""}),S=Object(j.b)({key:"info",default:""}),E=Object(j.b)({key:"error",default:""}),D=Object(j.b)({key:"credentialAtom",default:{username:"",password:""}}),T=(t(160),"mqtt.raghavdhingra.com"),M="wss",A="8083",R="up",L="down",U="right",I="left",P="car/remote/",H="40px",K="button_up",W="button_down",F="button_right",q="button_left",B="mouse_up",V="mouse_down",J=function(){var e=Object(j.c)(D),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(j.c)(y),o=Object(s.a)(r,2),u=o[0],m=o[1],_=Object(j.c)(k),S=Object(s.a)(_,2),R=S[0],L=S[1],U=Object(j.c)(E),I=Object(s.a)(U,2),P=(I[0],I[1]),H=Object(j.c)(C),K=Object(s.a)(H,2),W=(K[0],K[1]),F=Object(j.c)(N),q=Object(s.a)(F,2),B=(q[0],q[1]),V=Object(b.f)(),J=function(e,n){a(Object(d.a)(Object(d.a)({},t),{},Object(i.a)({},e,n)))};Object(c.useEffect)((function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_MQTT_USERNAME,n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_MQTT_PASSWORD;e&&n&&a({username:e,password:n})}),[a]),Object(c.useEffect)((function(){u&&V.replace("/dashboard")}),[V,u]);return Object(O.jsx)(w,{children:Object(O.jsx)(v,{children:Object(O.jsxs)(v,{variant:"dark",isShadow:!0,children:[Object(O.jsx)(h,{children:"Login"}),Object(O.jsx)(x,{}),Object(O.jsxs)(f,{children:[Object(O.jsx)(p,{placeholder:"Username",type:"text",isDisabled:R,value:t.username,onChange:function(e){return J("username",e)}}),Object(O.jsx)(p,{placeholder:"Password",isDisabled:R,type:"password",value:t.password,margin:"top",onChange:function(e){return J("password",e)}}),Object(O.jsx)(g,{isDisabled:R,isLoading:R,title:"Check In",margin:"top",onClick:function(){if(L(!0),B("Connection is Progress..."),t.username&&t.password){var e=l.a.connect("".concat(M,"://").concat(T),{username:t.username,password:t.password,protocol:M,port:A});e.on("error",(function(){L(!1),P("Invalid Credentials"),m(!1)})),e.on("connect",(function(){L(!1),W("Connection Established"),m(!0)}))}else L(!1),P("Empty Credential"),m(!1)}})]})]})})})},Q=(t(161),function(e){var n=e.className,t=Object(j.c)(D),c=Object(s.a)(t,2),a=c[0],r=c[1],o=Object(j.c)(k),i=Object(s.a)(o,2),d=i[0],u=i[1],l=Object(j.c)(y),h=Object(s.a)(l,2),f=h[0],m=h[1],_=Object(j.c)(C),p=Object(s.a)(_,2),x=p[0],v=p[1],w=Object(b.f)();return Object(O.jsxs)("div",{className:"navbar ".concat(n||""),children:[Object(O.jsx)(g,{title:"Home",className:"not-center",onClick:function(){return w.push("/dashboard")},variant:"warning"}),Object(O.jsxs)("div",{className:"navbar__leftFlex",children:[Object(O.jsxs)("span",{className:"navbar__username",children:["\ud83c\udfe0 ",a.username]}),Object(O.jsx)(g,{title:"Logout",onClick:function(){f&&(r({username:"",password:""}),u(!1),m(!1),"Successfully Logged out"===x&&v("Successfully Logged out"))},isDisabled:d,isLoading:d,variant:"danger"})]})]})}),G=(t(162),function(e){var n=e.children;return Object(O.jsxs)(w,{children:[Object(O.jsx)(Q,{}),n]})}),Y=(t(163),function(e){var n=e.title,t=e.type,a=e.handleDismiss,r={info:"info",error:"error",warning:"warning",success:"success"};return Object(c.useEffect)((function(){a&&setTimeout((function(){a()}),2e3)}),[]),n?Object(O.jsx)("div",{className:"alert alert__".concat(r[t]||r.info),children:n}):null}),z=[{name:"Internet Car Remote",image:"car",key:"INTERNET_CAR_REMOTE",href:"/internet-car-remote"},{name:"Workspace Light Switch",image:"bulb",key:"WORKSPACE_LIGHT_SWITCH",href:"/workspace-light-switch"}],X=(t(164),function(e){var n=e.className;return Object(O.jsx)("div",{className:"app_list ".concat(n||""),children:z.map((function(e,n){return Object(O.jsxs)(v,{isShadow:!0,variant:n%3===0?"dark":"",isMinHeight:!0,backgroundImage:e.image,children:[Object(O.jsx)(h,{align:"center",children:e.name}),Object(O.jsx)(g,{title:"Connect",variant:n%3===0?"info":"secondary",href:"/dashboard".concat(e.href),isLink:!0})]},e.key)}))})}),Z=(t(165),function(e){var n=e.className,t=e.isConnected;return Object(O.jsx)("div",{className:"point_status point_status--".concat(t?"connected":"not-connected"," ").concat(n||"")})}),$=function(e){var n=e.className,t=e.onClick,c=e.title,a=e.variant,r=e.margin,o=e.children,s=e.onMouseDown,i=e.onMouseUp,d={primary:"primary",secondary:"secondary",danger:"danger",warning:"warning",info:"info",success:"success"};function u(e){var n=e||window.event;return n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0,n.returnValue=!1,!1}return Object(O.jsxs)("button",{onMouseDown:s,onMouseUp:i,onTouchStart:function(e){s(),u(e)},onTouchMove:u,onTouchCancel:u,onTouchEnd:function(e){i(),u(e)},onClick:t,className:"button button--round button__".concat(r,"Margin button__").concat(a?d[a]:d.primary," ").concat(n||""),children:[c,o]})},ee=t.p+"static/media/arrow.9d3e8a82.svg",ne=null,te=!1,ce=!1,ae=!1,re=!1,oe=function(){var e=Object(c.useState)(!1),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)(!1),o=Object(s.a)(r,2),i=o[0],d=o[1],u=Object(j.c)(D),b=Object(s.a)(u,1)[0],f=Object(j.c)(k),m=Object(s.a)(f,2),_=m[0],p=m[1],x=Object(j.c)(E),y=Object(s.a)(x,2),J=(y[0],y[1]),Q=Object(j.c)(C),G=Object(s.a)(Q,2),Y=(G[0],G[1]),z=Object(j.c)(N),X=Object(s.a)(z,2),oe=(X[0],X[1]),se=Object(j.c)(S),ie=Object(s.a)(se,2),de=(ie[0],ie[1]),ue=function(e,n){t&&(e===K?n===B?ne.publish("".concat(P).concat(R),"0"):n===V&&ne.publish("".concat(P).concat(R),"1"):e===q?n===B?ne.publish("".concat(P).concat(I),"0"):n===V&&ne.publish("".concat(P).concat(I),"1"):e===F?n===B?ne.publish("".concat(P).concat(U),"0"):n===V&&ne.publish("".concat(P).concat(U),"1"):e===W&&(n===B?ne.publish("".concat(P).concat(L),"0"):n===V&&ne.publish("".concat(P).concat(L),"1")))},le=function(){oe("Connecting to Car..."),b.username&&b.password?(p(!0),(ne=l.a.connect("".concat(M,"://").concat(T),{username:b.username,password:b.password,protocol:M,port:A})).on("connect",(function(){a(!0),p(!1),Y("Connected to the Car")})),ne.on("error",(function(){a(!1),p(!1),J("Disconnected from the Car")}))):(a(!1),p(!1),Y("Error while connection"))},be=function(e){"ArrowUp"===e.key?te||(te=!0,ue(K,V)):"ArrowLeft"===e.key?ae||(ae=!0,ue(q,V)):"ArrowRight"===e.key?re||(re=!0,ue(F,V)):"ArrowDown"===e.key&&(ce||(ce=!0,ue(W,V)))},je=function(e){"ArrowUp"===e.key?(te=!1,ue(K,B)):"ArrowLeft"===e.key?(ae=!1,ue(q,B)):"ArrowRight"===e.key?(re=!1,ue(F,B)):"ArrowDown"===e.key&&(ce=!1,ue(W,B))};return Object(c.useEffect)((function(){i?(de("Keyboard is engaged. Now, you can control the car with the arrow keys."),document.onkeydown=be,document.onkeyup=je):(oe("Keyboard is disengaged. You can not use the keyboard as a controller."),document.onkeydown=null,document.onkeyup=null)}),[i]),Object(c.useEffect)((function(){le()}),[]),Object(O.jsxs)(w,{children:[Object(O.jsx)(v,{isShadow:!0,variant:"default",children:Object(O.jsxs)(h,{children:[Object(O.jsx)(Z,{isConnected:t})," ",t?"Active":"Inactive"]})}),Object(O.jsx)(v,{isShadow:!0,variant:"default",children:Object(O.jsxs)(v,{variant:"dark",children:[Object(O.jsx)("div",{className:"dashboard__center-align",children:Object(O.jsx)($,{variant:"danger",margin:"auto",className:"dashboard__img-up",onMouseDown:function(){return ue(K,V)},onMouseUp:function(){return ue(K,B)},children:Object(O.jsx)("img",{src:ee,alt:"down_arrow",width:H})})}),Object(O.jsxs)("div",{className:"dashboard__card-grid-2 dashboard__center-align",children:[Object(O.jsx)($,{variant:"danger",className:"dashboard__btn-left",onMouseDown:function(){return ue(q,V)},onMouseUp:function(){return ue(q,B)},children:Object(O.jsx)("img",{src:ee,alt:"down_arrow",width:H})}),Object(O.jsx)($,{variant:"danger",className:"dashboard__btn-right",onMouseDown:function(){return ue(F,V)},onMouseUp:function(){return ue(F,B)},children:Object(O.jsx)("img",{src:ee,alt:"down_arrow",width:H})})]}),Object(O.jsx)("div",{className:"dashboard__center-align",children:Object(O.jsx)($,{variant:"danger",margin:"auto",className:"dashboard__btn-down",onMouseDown:function(){return ue(W,V)},onMouseUp:function(){return ue(W,B)},children:Object(O.jsx)("img",{src:ee,alt:"down_arrow",width:H})})})]})}),Object(O.jsxs)(v,{isShadow:!0,className:"dashboard__flex",children:[Object(O.jsx)(g,{variant:"success",className:"dashboard__mobile_disable",title:i?"Disengage Keyboard":"Engage Keyboard",onClick:function(){return d(!i)}}),Object(O.jsx)(g,{variant:"info",isDisabled:_,isLoading:_,title:t?"Disconnect":"Connect",onClick:t?function(){a(!1),ne=null,de("Disconnected from the car")}:le})]})]})},se=function(){var e=Object(b.f)(),n=Object(b.g)(),t=Object(j.c)(y),a=Object(s.a)(t,1)[0],r=Object(j.c)(E),o=Object(s.a)(r,2),i=o[0],d=o[1],u=Object(j.c)(C),l=Object(s.a)(u,2),h=l[0],f=l[1],m=Object(j.c)(S),_=Object(s.a)(m,2),g=_[0],p=_[1],x=Object(j.c)(N),v=Object(s.a)(x,2),w=v[0],k=v[1];return Object(c.useEffect)((function(){a||"login"===n.pathname||e.push("/login")}),[a,e,n.pathname]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"alert__container",children:[i&&Object(O.jsx)(Y,{type:"error",title:i,handleDismiss:function(){return d("")}}),g&&Object(O.jsx)(Y,{type:"info",title:g,handleDismiss:function(){return p("")}}),w&&Object(O.jsx)(Y,{type:"warning",title:w,handleDismiss:function(){return k("")}}),h&&Object(O.jsx)(Y,{type:"success",title:h,handleDismiss:function(){return f("")}})]}),Object(O.jsxs)(b.c,{children:[Object(O.jsx)(b.a,{path:"/login",exact:!0,children:Object(O.jsx)(J,{})}),Object(O.jsxs)(b.a,{path:"/dashboard",children:[Object(O.jsx)(b.a,{path:"/dashboard",exact:!0,children:Object(O.jsx)(G,{children:Object(O.jsx)(X,{className:"app_list__container"})})}),Object(O.jsx)(b.a,{path:"/dashboard/internet-car-remote",exact:!0,children:Object(O.jsx)(G,{children:Object(O.jsx)(oe,{})})})]})]})]})};t(166);o.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(j.a,{children:Object(O.jsx)(m.a,{children:Object(O.jsx)(se,{})})})}),document.getElementById("root"))},87:function(e,n){},89:function(e,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.d6078a47.chunk.js.map